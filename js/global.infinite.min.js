---
---
function setCookie(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=t+"="+e+"; "+o}function getCookie(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}function checkCookie(t){var e=getCookie(t);""!=e?alert("cookie is"+e):alert("cookie unset")}function removeWrap(){$(".jscroll-added article").unwrap()}!function(t,e,n,i){"use strict";var o=function(){var t=n.body||n.documentElement,t=t.style;return""==t.WebkitTransition?"-webkit-":""==t.MozTransition?"-moz-":""==t.OTransition?"-o-":""==t.transition?"":!1},r=o()===!1?!1:!0,a=function(t,e,n){var i={},r=o();i[r+"transform"]="translateX("+e+")",i[r+"transition"]=r+"transform "+n+"s linear",t.css(i)},l="ontouchstart"in e,c=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,s=function(t){if(l)return!0;if(!c||"undefined"==typeof t||"undefined"==typeof t.pointerType)return!1;if("undefined"!=typeof t.MSPOINTER_TYPE_MOUSE){if(t.MSPOINTER_TYPE_MOUSE!=t.pointerType)return!0}else if("mouse"!=t.pointerType)return!0;return!1};t.fn.imageLightbox=function(i){var i=t.extend({selector:'id="imagelightbox"',allowedTypes:"png|jpg|jpeg|gif",animationSpeed:250,preloadNext:!0,enableKeyboard:!0,quitOnEnd:!1,quitOnImgClick:!1,quitOnDocClick:!0,onStart:!1,onEnd:!1,onLoadStart:!1,onLoadEnd:!1},i),o=t([]),d=t(),u=t(),g=0,f=0,h=0,p=!1,v=function(e){return"a"==t(e).prop("tagName").toLowerCase()&&new RegExp(".("+i.allowedTypes+")$","i").test(t(e).attr("href"))},m=function(){if(!u.length)return!0;var n=.8*t(e).width(),i=.9*t(e).height(),o=new Image;o.src=u.attr("src"),o.onload=function(){if(g=o.width,f=o.height,g>n||f>i){var r=g/f>n/i?g/n:f/i;g/=r,f/=r}u.css({width:g+"px",height:f+"px",top:(t(e).height()-f)/2+"px",left:(t(e).width()-g)/2+"px"})}},b=function(e){if(p)return!1;if(e="undefined"==typeof e?!1:"left"==e?1:-1,u.length){if(e!==!1&&(o.length<2||i.quitOnEnd===!0&&(-1===e&&0==o.index(d)||1===e&&o.index(d)==o.length-1)))return y(),!1;var n={opacity:0};r?a(u,100*e-h+"px",i.animationSpeed/1e3):n.left=parseInt(u.css("left"))+100*e+"px",u.animate(n,i.animationSpeed,function(){x()}),h=0}p=!0,i.onLoadStart!==!1&&i.onLoadStart(),setTimeout(function(){u=t("<img "+i.selector+" />").attr("src",d.attr("href")).load(function(){u.appendTo("body"),m();var n={opacity:1};if(u.css("opacity",0),r)a(u,-100*e+"px",0),setTimeout(function(){a(u,"0px",i.animationSpeed/1e3)},50);else{var l=parseInt(u.css("left"));n.left=l+"px",u.css("left",l-100*e+"px")}if(u.animate(n,i.animationSpeed,function(){p=!1,i.onLoadEnd!==!1&&i.onLoadEnd()}),i.preloadNext){var c=o.eq(o.index(d)+1);c.length||(c=o.eq(0)),t("<img />").attr("src",c.attr("href")).load()}}).error(function(){i.onLoadEnd!==!1&&i.onLoadEnd()});var n=0,l=0,f=0;u.on(c?"pointerup MSPointerUp":"click",function(t){if(t.preventDefault(),i.quitOnImgClick)return y(),!1;if(s(t.originalEvent))return!0;var e=(t.pageX||t.originalEvent.pageX)-t.target.offsetLeft;d=o.eq(o.index(d)-(g/2>e?1:-1)),d.length||(d=o.eq(g/2>e?o.length:0)),b(g/2>e?"left":"right")}).on("touchstart pointerdown MSPointerDown",function(t){return!s(t.originalEvent)||i.quitOnImgClick?!0:(r&&(f=parseInt(u.css("left"))),void(n=t.originalEvent.pageX||t.originalEvent.touches[0].pageX))}).on("touchmove pointermove MSPointerMove",function(t){return!s(t.originalEvent)||i.quitOnImgClick?!0:(t.preventDefault(),l=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,h=n-l,void(r?a(u,-h+"px",0):u.css("left",f-h+"px")))}).on("touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",function(t){return!s(t.originalEvent)||i.quitOnImgClick?!0:void(Math.abs(h)>50?(d=o.eq(o.index(d)-(0>h?1:-1)),d.length||(d=o.eq(0>h?o.length:0)),b(h>0?"right":"left")):r?a(u,"0px",i.animationSpeed/1e3):u.animate({left:f+"px"},i.animationSpeed/2))})},i.animationSpeed+100)},x=function(){return u.length?(u.remove(),void(u=t())):!1},y=function(){return u.length?void u.animate({opacity:0},i.animationSpeed,function(){x(),p=!1,i.onEnd!==!1&&i.onEnd()}):!1};return t(e).on("resize",m),i.quitOnDocClick&&t(n).on(l?"touchend":"click",function(e){u.length&&!t(e.target).is(u)&&y()}),i.enableKeyboard&&t(n).on("keyup",function(t){return u.length?(t.preventDefault(),27==t.keyCode&&y(),void((37==t.keyCode||39==t.keyCode)&&(d=o.eq(o.index(d)-(37==t.keyCode?1:-1)),d.length||(d=o.eq(37==t.keyCode?o.length:0)),b(37==t.keyCode?"left":"right")))):!0}),t(n).on("click",this.selector,function(e){return v(this)?(e.preventDefault(),p?!1:(p=!1,i.onStart!==!1&&i.onStart(),d=t(this),void b())):!0}),this.each(function(){return v(this)?void(o=o.add(t(this))):!0}),this.switchImageLightbox=function(t){var e=o.eq(t);if(e.length){var n=o.index(d);d=e,b(n>t?"left":"right")}return this},this.quitImageLightbox=function(){return y(),this},this}}(jQuery,window,document),$(document).ready(function(){$(".modal-trigger").leanModal(),$(".sidebar-toggle").click(function(){$(".sidebar").toggleClass("open")}),$(".backtotop").click(function(){return $("body,html").animate({scrollTop:0},500),!1}),$(".toggle-link").click(function(){$("#menu").toggleClass("active")}),$('a[href="#search"]').click(function(){$("#search").addClass("open"),$("#search input").focus(),$("body").addClass("overflow")}),$("#search, #search button.close").on("click keyup",function(t){(t.target==this||"close"==t.target.className||27==t.keyCode)&&($(this).removeClass("open"),$("body").removeClass("overflow"))});var t=getCookie("switch-style");""!=t&&$("#switch-style").attr("href","{{site.baseurl}}/css/"+t+".css"),$(".switch div").click(function(){var t=$(this).attr("id");$("#switch-style").attr("href","{{site.baseurl}}/css/"+t+".css"),setCookie("switch-style",t,365)});var e=getCookie("color-change");""!=e&&$("#color-change").attr("href","{{site.baseurl}}/css/main_"+e+".css"),$(".color-change img").click(function(){var t=$(this).attr("id");$("#color-change").attr("href","{{site.baseurl}}/css/main_"+t+".css"),setCookie("color-change",t,365)}),0!=$(".articles").find("div.wrapper").length?$(".switch").hide():$(".switch").show()}),$(window).scroll(function(){}),$(function(){var t=function(){$('<div id="imagelightbox-loading"><div></div></div>').appendTo("body")},e=function(){$("#imagelightbox-loading").remove()},n=function(){$('<div id="imagelightbox-overlay"></div>').appendTo("body")},i=function(){$("#imagelightbox-overlay").remove()},o=function(t){$('<button type="button" id="imagelightbox-close" title="Close"><i class="fa fa-times-circle"></i></button>').appendTo("body").on("click touchend",function(){return $(this).remove(),t.quitImageLightbox(),!1})},r=function(){$("#imagelightbox-close").remove()},a=function(){var t=$('a[href="'+$("#imagelightbox").attr("src")+'"] img').attr("alt");t.length>0&&$('<div id="imagelightbox-caption">'+t+"</div>").appendTo("body")},l=function(){$("#imagelightbox-caption").remove()},c=function(t,e){var n=$(e);if(n.length){for(var i=$('<div id="imagelightbox-nav"></div>'),o=0;o<n.length;o++)i.append('<button type="button"></button>');i.appendTo("body"),i.on("click touchend",function(){return!1});var r=i.find("button");r.on("click touchend",function(){var e=$(this);return n.eq(e.index()).attr("href")!=$("#imagelightbox").attr("src")&&t.switchImageLightbox(e.index()),r.removeClass("active"),r.eq(e.index()).addClass("active"),!1}).on("touchend",function(){return!1})}},s=function(t){var e=$("#imagelightbox-nav button");e.removeClass("active"),e.eq($(t).filter('[href="'+$("#imagelightbox").attr("src")+'"]').index(t)).addClass("active")},d=function(){$("#imagelightbox-nav").remove()},u=function(t,e){var n=$('<button type="button" class="imagelightbox-arrow imagelightbox-arrow-left"></button><button type="button" class="imagelightbox-arrow imagelightbox-arrow-right"></button>');n.appendTo("body"),n.on("click touchend",function(n){n.preventDefault();var i=$(this),o=$(e+'[href="'+$("#imagelightbox").attr("src")+'"]'),r=o.index(e);return i.hasClass("imagelightbox-arrow-left")?(r-=1,$(e).eq(r).length||(r=$(e).length)):(r+=1,$(e).eq(r).length||(r=0)),t.switchImageLightbox(r),!1})},g=function(){$(".imagelightbox-arrow").remove()},f='a[data-imagelightbox="f"]',h=$(f).imageLightbox({onStart:function(){n(),o(h),u(h,f)},onEnd:function(){i(),l(),r(),g(),e()},onLoadStart:function(){l(),t()},onLoadEnd:function(){a(),e(),$(".imagelightbox-arrow").css("display","block")}})}),function(t){"use strict";t.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var e=function(e,n){var i=e.data("jscroll"),o="function"==typeof n?{callback:n}:n,r=t.extend({},t.jscroll.defaults,o,i||{}),a="visible"===e.css("overflow-y"),l=e.find(r.nextSelector).first(),c=t(window),s=t("body"),d=a?c:e,u=t.trim(l.attr("href")+" "+r.contentSelector),g=function(){var e=t(r.loadingHtml).filter("img").attr("src");if(e){var n=new Image;n.src=e}},f=function(){e.find(".jscroll-inner").length||e.contents().wrapAll('<div class="jscroll-inner" />')},h=function(t){var e;r.pagingSelector?t.closest(r.pagingSelector).hide():(e=t.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide(),e.length||t.wrap('<div class="jscroll-next-parent" />').parent().hide())},p=function(){return d.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()},v=function(){f();var t=e.find("div.jscroll-inner").first(),n=e.data("jscroll"),i=parseInt(e.css("borderTopWidth"),10),o=isNaN(i)?0:i,l=parseInt(e.css("paddingTop"),10)+o,c=a?d.scrollTop():e.offset().top,s=t.length?t.offset().top:0,u=Math.ceil(c-s+d.height()+l);return!n.waiting&&u+r.padding>=t.outerHeight()?(y("info","jScroll:",t.outerHeight()-u,"from bottom. Loading next request..."),x()):void 0},m=function(t){return t=t||e.data("jscroll"),t&&t.nextHref?(b(),!0):(y("warn","jScroll: nextSelector not found - destroying"),p(),!1)},b=function(){var t=e.find(r.nextSelector).first();t.length&&(r.autoTrigger&&(r.autoTriggerUntil===!1||r.autoTriggerUntil>0)?(h(t),s.height()<=c.height()&&v(),d.unbind(".jscroll").bind("scroll.jscroll",function(){return v()}),r.autoTriggerUntil>0&&r.autoTriggerUntil--):(d.unbind(".jscroll"),t.bind("click.jscroll",function(){return h(t),x(),!1})))},x=function(){var n=e.find("div.jscroll-inner").first(),i=e.data("jscroll");return i.waiting=!0,n.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+r.loadingHtml+"</div>"),e.animate({scrollTop:n.outerHeight()},0,function(){n.find("div.jscroll-added").last().load(i.nextHref,function(n,o){if("error"===o)return p();var a=t(this).find(r.nextSelector).first();i.waiting=!1,i.nextHref=a.attr("href")?t.trim(a.attr("href")+" "+r.contentSelector):!1,t(".jscroll-next-parent",e).remove(),m(),r.callback&&r.callback.call(this),y("dir",i)})})},y=function(t){if(r.debug&&"object"==typeof console&&("object"==typeof t||"function"==typeof console[t]))if("object"==typeof t){var e=[];for(var n in t)"function"==typeof console[n]?(e=t[n].length?t[n]:[t[n]],console[n].apply(console,e)):console.log.apply(console,e)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))};return e.data("jscroll",t.extend({},i,{initialized:!0,waiting:!1,nextHref:u})),f(),g(),b(),t.extend(e.jscroll,{destroy:p}),e};t.fn.jscroll=function(n){return this.each(function(){var i=t(this),o=i.data("jscroll"),r;o&&o.initialized||(r=new e(i,n))})}}(jQuery),$(document).ready(function(){$(".articles").jscroll({contentSelector:"article",nextSelector:".next",callback:removeWrap})});